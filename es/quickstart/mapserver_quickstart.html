
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Guías de Inicio Rápido de MapServer &#8212; OSGeoLive 12.0 Documentation</title>
    <link rel="stylesheet" href="../../_static/overview.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Guía de Inicio Rápido de MapSlicer" href="mapslicer_quickstart.html" />
    <link rel="prev" title="MapProxy Quickstart" href="mapproxy_quickstart.html" />
	<script type="text/javascript" src="../../_static/osgeolive.js"></script>


  </head>
  <body>

        
        
    <div class="header">
	<div class="banner"><a href="http://live.osgeo.org/"><img src="../../_images/banner.png"></a></div>
        <div class="nowrap">
            <ul id="top-nav">
              <li><a href="../index.html">Home</a></li>
              <li><a href="../overview/overview.html">Contents</a></li>
              <li><a href="../download.html">Download</a></li>
              <li><a href="../metrics.html">Metrics</a></li>
              <li><a href="../sponsors.html">Sponsors</a></li>
              <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </div>
    </div>
    </div> 
        


    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a>
		</div>
	</font>
    </div>



    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="http://mapserver.org/"><img alt="../../_images/logo_mapserver.png" class="align-right" src="../../_images/logo_mapserver.png" /></a>
<a class="reference external image-reference" href="target:http://www.osgeo.org"><img alt="../../_images/OSGeo_project.png" class="align-right" src="../../_images/OSGeo_project.png" /></a>
<div class="section" id="mapserver-quickstart">
<h1>Guías de Inicio Rápido de MapServer<a class="headerlink" href="#mapserver-quickstart" title="Enlazar permanentemente con este título">¶</a></h1>
<p>MapServer es un servidor <a class="reference external" href="http://www.opensource.org">Open Source</a> basado en aplicación, que le permite publicar ned application that allows you to publish imágenes de mapas geográficos y datos vectoriales a través de Internet usando <a class="reference external" href="http://www.opengeospatial.org/standards">OGC standards</a> such as <a class="reference external" href="http://www.opengeospatial.org/standards/wms">WMS</a>, <a class="reference external" href="http://www.opengeospatial.org/standards/wfs">WFS</a>, y <a class="reference external" href="http://www.opengeospatial.org/standards/wcs">WCS</a>.</p>
<div class="contents local topic" id="this-quick-start-contents">
<p class="topic-title first">This Quick Start Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#configure-mapserver-using-the-mapfile-configuration-file" id="id1">Configure MapServer usando el archivo de configuración de  MapFile</a></li>
<li><a class="reference internal" href="#render-a-map-image-with-mapserver-using-a-wms-getmap-request" id="id2">Renderizar una imagen del mapa con MapServer usando una Solicitud de <strong>GetMap</strong> de WMS</a></li>
<li><a class="reference internal" href="#render-a-map-image-with-mapserver-using-the-command-line" id="id3">Renderice una imagen del mapa con MapServer usando la línea de comando</a></li>
<li><a class="reference internal" href="#add-a-new-layer-to-the-mapfile-to-serve-a-local-shapefile" id="id4">Añadir una nueva capa al MapFile para servir un shapefile local</a></li>
<li><a class="reference internal" href="#style-a-layer-using-mapfile-configurations" id="id5">Estilice una capa usando configuraciones de MapFile.</a></li>
<li><a class="reference internal" href="#what-next" id="id6">¿Qué sigue?</a></li>
</ul>
</div>
<div class="section" id="configure-mapserver-using-the-mapfile-configuration-file">
<h2><a class="toc-backref" href="#id1">Configure MapServer usando el archivo de configuración de  MapFile</a><a class="headerlink" href="#configure-mapserver-using-the-mapfile-configuration-file" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last"><strong>¿Qué aprenderé?</strong> en esta sección, usted aprenderá lo que es MAp File y cómo configurarlopara permitir que MapServer sirva un shapefile como imágenes usando solicitudes WMS.</p>
</div>
<div class="section" id="what-is-a-mapfile">
<h3>¿Qué es un MapFile?<a class="headerlink" href="#what-is-a-mapfile" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Un <a class="reference external" href="http://mapserver.org/mapfile/index.html">Mapfile</a> es el archivo de configuración que MapServer usa para representar datos geoespaciales como imágenes o datos vectoriales. Su objetivo principal es definir las capas que puede dibujar, cómo leer los datos necesarios y cómo representarlos (por ejemplo, color, símbolo, etiqueta, etc.).</p>
</div>
<div class="section" id="creating-my-first-mapfile">
<h3>Creando mi primer MapFile<a class="headerlink" href="#creating-my-first-mapfile" title="Enlazar permanentemente con este título">¶</a></h3>
<ol class="arabic simple">
<li>Abra cualquier editor de texto (ejemplo, <span class="menuselection">Applications ‣ Accessories ‣ Leafpad</span>).</li>
<li>Crear el archivo «mapserver_quickstart.map» en tu directorio home:: <a class="reference external" href="file:'/home/user/mapserver_quickstart.map">file:”/home/user/mapserver_quickstart.map</a>”</li>
</ol>
<p>Poner el siguiente contenido en él:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">MAP</span>
  <span class="n">NAME</span> <span class="s2">&quot;MAPSERVER QUICKSTART&quot;</span>
  <span class="n">EXTENT</span> <span class="o">-</span><span class="mi">137</span> <span class="mi">29</span> <span class="o">-</span><span class="mi">53</span> <span class="mi">88</span>
  <span class="n">UNITS</span> <span class="n">DD</span>
  <span class="n">SHAPEPATH</span> <span class="s2">&quot;/home/user/data/natural_earth2/&quot;</span>
  <span class="n">SIZE</span> <span class="mi">800</span> <span class="mi">600</span>

  <span class="n">IMAGETYPE</span> <span class="n">PNG24</span>

  <span class="n">PROJECTION</span>
    <span class="s2">&quot;init=epsg:4326&quot;</span>
  <span class="n">END</span>

  <span class="n">WEB</span>
    <span class="n">METADATA</span>
      <span class="n">ows_enable_request</span> <span class="s2">&quot;*&quot;</span>
    <span class="n">END</span>
  <span class="n">END</span>

  <span class="n">LAYER</span>
    <span class="n">NAME</span> <span class="s2">&quot;Admin Countries&quot;</span>
    <span class="n">STATUS</span> <span class="n">ON</span>
    <span class="n">TYPE</span> <span class="n">POLYGON</span>
    <span class="n">DATA</span> <span class="s2">&quot;ne_10m_admin_0_countries&quot;</span>
    <span class="n">CLASS</span>
      <span class="n">STYLE</span>
        <span class="n">COLOR</span> <span class="mi">246</span> <span class="mi">241</span> <span class="mi">223</span>
        <span class="n">OUTLINECOLOR</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
      <span class="n">END</span>
    <span class="n">END</span>
  <span class="n">END</span>

<span class="n">END</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">El ejemplo utiliza el conjunto de datos de Natural Earth, que ya está instalado en el Live dvd en <code class="file docutils literal"><span class="pre">~/data/natural_earth2</span></code> (a short cut to <code class="file docutils literal"><span class="pre">/usr/local/share/data/natural_earth2</span></code>).</p>
</div>
<p>Cada objeto en un MapFile comienza con el nombre (por ejemplo <strong>MAPA</strong>) y termina con un <strong>FIN</strong>. Un MapFile siempre comienza con el objeto <strong>MAP</strong> y debe contener una lista de objetos <strong>LAYER</strong> que el MapFile puede leer y dibujar. En nuestro MapFile, actualmente solo tenemos una capa definida.</p>
<p>Echemos un vistazo a algunos de los objetos (y propiedades) definidos en nuestro  MapFile:</p>
<blockquote>
<div><ul class="simple">
<li>EXTENSIÓN: establece el cuadro delimitador geoespacial predeterminado para esta configuración.</li>
<li>CAPA: define las propiedades de acceso y visualización de un conjunto de datos espacial.  Vamos a añadir otra capa más tarde.</li>
<li>SHAPEPATH: establece una ruta de base de datos basados en archivos (por ejemplo imágenes de shapefiles o tiff).</li>
</ul>
</div></blockquote>
<p>Si miramos más de cerca la <strong>CAPA</strong> en nuestro MapFile, veremos que contiene un montón de propiedades y objetos. Entre ellos están:</p>
<blockquote>
<div><ul class="simple">
<li>STATUS: define si la capa puede ser dibujada (<em>ON</em>), no puede ser dibujada (<em>OFF</em>) o siempre se dibuja (<em>PREDETERMINADAMENTE</em>).</li>
<li>TIPO: el tipo de geometría que MapServer debe utilizar al representar los datos como una imagen. En nuestro MapFile, los datos se dibujarán como <em>polígonos</em>.</li>
<li>DATOS: el nombre del archivo de datos espaciales de esta capa utiliza, en este caso un shapefile.</li>
<li>CLASE: determina cómo dibujar una capa (estilo). Cubriremos este objeto con más detalle más adelante.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Una lista completa de los objetos disponibles y las propiedades que puede tener un MapFile, puede encontrarse en la “Página de documentación de MapServer &lt;<a class="reference external" href="http://mapserver.org/mapfile/index.html">http://mapserver.org/mapfile/index.html</a>&gt;`_.</p>
</div>
</div>
</div>
<div class="section" id="render-a-map-image-with-mapserver-using-a-wms-getmap-request">
<h2><a class="toc-backref" href="#id2">Renderizar una imagen del mapa con MapServer usando una Solicitud de <strong>GetMap</strong> de WMS</a><a class="headerlink" href="#render-a-map-image-with-mapserver-using-a-wms-getmap-request" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last"><strong>¿Qué aprenderé?</strong> Aprenderá a renderizar una imagen con capas de un MapFile con MapServer utilizando una solicitud de OGC WMS.</p>
</div>
<p>Abra un navegador web e introduzca la siguiente URL:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost/cgi-bin/mapserv?map=/home/user/mapserver_quickstart.map&amp;SERVICE=WMS&amp;REQUEST=Getmap&amp;VERSION=1.1.1&amp;LAYERS=Admin%20Countries&amp;SRS=EPSG:4326&amp;BBOX=-137,29,-53,88&amp;FORMAT=PNG&amp;WIDTH=800&amp;HEIGHT=600
</pre></div>
</div>
<p>¿Qué significa lo anterior?  Si lo ponemos en palabras simples, es una solicitud de  <a class="reference external" href="http://www.opengeospatial.org/standards/wms">Web Map Service (WMS)</a> <strong>GetMap</strong> que le dice a MapServer que «<em>utilice el siguiente MapFile para renderizar las capas especificadas como una imagen png en función de algunos parámetros proporcionados por el usuario, como el tamaño de la imagen, la extensión geográfica, la proyección, etc.</em>». Todas las capas especificadas en la propiedad «<em>&amp; LAYERS =…</em>» que tengan <em>STATUS ON</em> en MapFile se renderizarán además de todas las capas con <em>STATUS DEFAULT</em>. El resultado es similar al siguiente:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/mapserver_map.png"><img alt="../../_images/mapserver_map.png" src="../../_images/mapserver_map.png" style="width: 560.0px; height: 420.0px;" /></a>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Todos los parámetros de la solicitud son específicamente WMS-, excepto  «<em>?map=/home/user/mapserver_quickstart.map</em>», que es específico de MapServer.</p>
</div>
</div>
<div class="section" id="render-a-map-image-with-mapserver-using-the-command-line">
<h2><a class="toc-backref" href="#id3">Renderice una imagen del mapa con MapServer usando la línea de comando</a><a class="headerlink" href="#render-a-map-image-with-mapserver-using-the-command-line" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Aunque MapServer está orientado a aplicaciones web, también puede producir imágenes en la línea de comandos. Esto puede ser útil si está buscando mapeo repetitivo o durante la depuración.</p>
<p>Abra una terminal(<span class="menuselection">Applications ‣ Accessories ‣ Terminal Emulator</span>) y tecleé:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">mapserver_quickstart</span><span class="o">.</span><span class="n">map</span> <span class="o">-</span><span class="n">o</span> <span class="n">mymap</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<p>Si este comando se ejecuta con éxito, puede ver su mapa renderizado en  <a class="reference external" href="file:///home/user/mymap.png">file:///home/user/mymap.png</a>.</p>
</div>
<div class="section" id="add-a-new-layer-to-the-mapfile-to-serve-a-local-shapefile">
<h2><a class="toc-backref" href="#id4">Añadir una nueva capa al MapFile para servir un shapefile local</a><a class="headerlink" href="#add-a-new-layer-to-the-mapfile-to-serve-a-local-shapefile" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last"><strong>¿Qué aprenderé?</strong> Usted aprenderá cómo agregar una nueva definición de objeto de capa a su MapFile.</p>
</div>
<p>Ahora añadimos una nueva capa a nuestro MapFile. Antes de la última declaración de <em>END</em>  en el MapFile, agregue la siguiente configuración de capa:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LAYER</span>
  <span class="n">NAME</span> <span class="s2">&quot;Lakes&quot;</span>
  <span class="n">STATUS</span> <span class="n">ON</span>
  <span class="n">TYPE</span> <span class="n">POLYGON</span>
  <span class="n">DATA</span> <span class="s2">&quot;ne_10m_lakes&quot;</span>
  <span class="n">CLASS</span>
    <span class="n">STYLE</span>
      <span class="n">COLOR</span> <span class="mi">153</span> <span class="mi">179</span> <span class="mi">204</span>
    <span class="n">END</span>
  <span class="n">END</span>
<span class="n">END</span>
</pre></div>
</div>
<p>Ahora tenemos 2 definiciones de capa en nuestro MapFile. Tenga en cuenta que la nueva que hemos añadido  tiene la propiedad de «STATUS» en «ON». Eso significa que a menos que específicamente lo solicitemos, no se renderizará.</p>
<p>Tomemos nuestra anterior solicitud WMS <strong>GetMap</strong> agreguemos la nueva capa de «Lagos» a la imagen renderizada. Simplemente tenemos que añadir el nuevo nombre de la capa a la lista de propiedades de «CAPAS»:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost/cgi-bin/mapserv?map=/home/user/mapserver_quickstart.map&amp;SERVICE=WMS&amp;REQUEST=Getmap&amp;VERSION=1.1.1&amp;LAYERS=Admin%20Countries,Lakes&amp;SRS=EPSG:4326&amp;BBOX=-137,29,-53,88&amp;FORMAT=PNG&amp;WIDTH=800&amp;HEIGHT=600
</pre></div>
</div>
<p>La imagen de MapServer se ve como el mapa anterior, pero con la adición de los lagos de nuestra nueva capa:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/mapserver_lakes.png"><img alt="../../_images/mapserver_lakes.png" src="../../_images/mapserver_lakes.png" style="width: 560.0px; height: 420.0px;" /></a>
</div></blockquote>
</div>
<div class="section" id="style-a-layer-using-mapfile-configurations">
<h2><a class="toc-backref" href="#id5">Estilice una capa usando configuraciones de MapFile.</a><a class="headerlink" href="#style-a-layer-using-mapfile-configurations" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last"><strong>¿Qué aprenderé?</strong> Verá un ejemplo de elementos de estilo dentro de una capa según algunas de sus propiedades de datos.</p>
</div>
<p>En un MapFile, un objeto de CAPA puede contener un número infinito de  CLASES de objetos.  Se utilizan para estilizar los elementos contenidos en el archivo de datos espaciales (DATA) del estilo. Por ejemplo, si miramos más de cerca nuestro archivo de datos «ne_10m_lakes» usando una herramienta como <a class="reference external" href="http://www.gdal.org/ogrinfo.html">ogrinfo</a>, veremos las definiciones de geometría y atributos que contiene. Estos valores de atributo se pueden utilizar como una forma de dibujar los elementos dentro de un conjunto de datos diferente, usando varias CLASES de objetos.</p>
<p>In our «ne_10m_lakes» dataset, we have a <em>ScaleRank</em> attribute, which seems
to be related to the size of the lakes. We can use this as a way to render
the lakes differently. In the LAYER object, we’ll add another CLASS object
just before our current one:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LAYER</span>
  <span class="n">NAME</span> <span class="s2">&quot;Lakes&quot;</span>
  <span class="n">STATUS</span> <span class="n">ON</span>
  <span class="n">TYPE</span> <span class="n">POLYGON</span>
  <span class="n">DATA</span> <span class="s2">&quot;ne_10m_lakes&quot;</span>
  <span class="n">CLASSITEM</span> <span class="s2">&quot;ScaleRank&quot;</span>
  <span class="n">CLASS</span>
    <span class="n">EXPRESSION</span> <span class="o">/</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">/</span>
    <span class="n">STYLE</span>
      <span class="n">COLOR</span> <span class="mi">153</span> <span class="mi">179</span> <span class="mi">204</span>
      <span class="n">OUTLINECOLOR</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
    <span class="n">END</span>
  <span class="n">END</span>
  <span class="n">CLASS</span>
    <span class="n">STYLE</span>
      <span class="n">COLOR</span> <span class="mi">153</span> <span class="mi">179</span> <span class="mi">204</span>
    <span class="n">END</span>
  <span class="n">END</span>
<span class="n">END</span>
</pre></div>
</div>
<p>¿Qué hace nuestra nueva CLASE de objeto? Básicamente, le dice MapServer que dibuje los elementos con la propiedad «ScaleRank» igual a «0» o «1» con un contorno negro. Las CLASES de objetos siempre se leen desde la parte superior hasta la parte inferior de cada función a ser dibujado. Cuando una característica coincide con la «EXPRESIÓN» especificada en una clase, esa clase va a representar la función. Si la función no coincide con una clase se comprueba la siguiente clase. Si una función no coincide con cualquier clase de entonces no se renderizará, pero si la última clase en una capa no contiene ninguna «EXPRESIÓN», entonces esa clase actuará preedeterminadamente. La  propiedad de capa «CLASSITEM» indica a MapServer que atributo a utilizar al evaluar alguna «EXPRESIÓN» definida en las CLASES de objetos.</p>
<p>El resultado de esta nueva adición debe hacer que los grandes lagos de nuestra imagen de mapa se rendericen con un contorno negro:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/mapserver_lakes_scalerank.png"><img alt="../../_images/mapserver_lakes_scalerank.png" src="../../_images/mapserver_lakes_scalerank.png" style="width: 560.0px; height: 420.0px;" /></a>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Aprenda más sobre  <a class="reference external" href="http://mapserver.org/mapfile/expressions.html">EXPRESSIONS</a>  en MapServer.</p>
</div>
</div>
<div class="section" id="what-next">
<h2><a class="toc-backref" href="#id6">¿Qué sigue?</a><a class="headerlink" href="#what-next" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este es un ejemplo simple, pero usted puede hacer mucho, mucho más. La página web del proyecto MapServer contiene muchos recursos para ayudarle a comenzar. Aquí hay algunos recursos para comprobar hacia fuera el siguiente:</p>
<ul class="simple">
<li>Leer la <a class="reference external" href="http://mapserver.org/introduction.html#introduction">Introduction to MapServer</a>.</li>
<li>Echa un vistazo al  <a class="reference external" href="http://www.mapserver.org/tutorial/index.html">MapServer Tutorial</a> que contiene más ejemplos de MapFile.</li>
<li>Revise  <a class="reference external" href="http://www.mapserver.org/ogc/index.html">OGC Support and Configuration</a> para aprender más sobre los estándares de OGC en MapServer (WMS, WFS, SLD, WFS Filter Encoding, WCS, SOS, etc.).</li>
<li>¿Listo para usar MapServer? Entonces únase a la comunidad en el <a class="reference external" href="http://www.mapserver.org/community/lists.html">Mailing Lists</a>  para intercambiar ideas, discutir sobre perfeccionamiento del potencial del software y resolver dudas.</li>
</ul>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    
    <div class="related">
	<font size="-2">
		<div id="translations">
		<!-- alphabetical order -->
              <a href="javascript:defaultRedirect('en')">English</a> |   <a href="javascript:defaultRedirect('de')">Deutsch</a> |   <a href="javascript:defaultRedirect('es')">Español</a> |   <a href="javascript:defaultRedirect('fr')">Français</a> |   <a href="javascript:defaultRedirect('hu')">Hungarian</a>
		</div>
	</font>
    </div>



        
        
<span style="font-size:85%;"><i><a href="../copyright.html">Copyright & Disclaimer</a></i></span>
        


  </body>
</html>